<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í•˜ë£¨ ì •ì‹  ì²´ë ¥ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸</title>
    <meta
      name="description"
      content="ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë‡Œ ì—ë„ˆì§€ì™€ ì§‘ì¤‘ë ¥ ìƒíƒœë¥¼ ì§„ë‹¨í•©ë‹ˆë‹¤."
    />
    <meta property="og:title" content="í•˜ë£¨ ì •ì‹  ì²´ë ¥ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸" />
    <meta property="og:description" content="ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë©˜íƒˆì€ ëª‡ %ì¸ê°€?" />
    <meta
      property="og:image"
      content="https://dummyimage.com/1200x630/000/fff&text=Mental+Stamina+Test"
    />
    <meta property="og:type" content="website" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        font-size: 17px;
      }
      @media (min-width: 640px) {
        :root {
          font-size: 16px;
        }
      }
      body {
        overflow: hidden;
      }
      .question-anim {
        transition: opacity 220ms ease, transform 220ms ease;
      }
      .question-hidden {
        opacity: 0;
        transform: translateY(-8px);
      }
      .question-visible {
        opacity: 1;
        transform: translateY(0);
      }
      .lang-switch {
        display: inline-flex;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(15, 23, 42, 0.7);
        padding: 3px;
        gap: 4px;
        font-size: 11px;
      }
      .lang-switch button {
        border-radius: 999px;
        padding: 4px 8px;
        color: #cbd5f5;
        background: transparent;
        border: none;
        cursor: pointer;
        line-height: 1;
      }
      .lang-switch button.active {
        background: rgba(248, 250, 252, 0.15);
        color: #f8fafc;
      }
    </style>
    <meta property="og:image:alt" content="Daily Mental Stamina Test" />
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20100%20100%27%3E%3Ctext%20y%3D%27.9em%27%20font-size%3D%2790%27%3E%F0%9F%A7%A0%3C/text%3E%3C/svg%3E"
    />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1204894220949193"
     crossorigin="anonymous"></script>
    <!-- responsive-base -->
    <style>
      /* responsive-base */
      *, *::before, *::after {
        box-sizing: border-box;
      }
      html {
        -webkit-text-size-adjust: 100%;
      }
      img,
      video,
      canvas,
      svg {
        max-width: 100%;
        height: auto;
      }
      table {
        width: 100%;
      }
      pre,
      code {
        white-space: pre-wrap;
        word-break: break-word;
      }
    </style>
  <style>
    .adsense-block {
      margin: 16px 0;
      display: flex;
      justify-content: center;
    }
    .adsbygoogle {
      display: block;
      margin: 16px auto;
        text-align: center;
}
  </style>
</head>
  <body
    class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-950 to-slate-900 text-slate-50 px-4 py-6 text-[17px] sm:text-base"
  >
    <!-- Header: Language toggle and FunnyFunny Cloud button -->
    <div class="w-full max-w-[480px] sm:max-w-4xl mx-auto mb-4 mt-4 sm:mt-6 flex items-center justify-between text-sm text-slate-300">
      <div class="lang-switch" role="tablist" aria-label="Language switcher">
        <button type="button" data-lang="ko" class="active">í•œêµ­ì–´</button>
        <button type="button" data-lang="en">EN</button>
      </div>
      <a
        href="https://funnyfunny.cloud"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-1 px-3 py-1.5 rounded-full bg-white/15 text-slate-100 hover:text-white hover:bg-white/30 shadow-sm hover:shadow-md transition"
      >
        <span class="text-[11px] tracking-wide uppercase font-semibold"
          >FunnyFunny Cloud</span
        >
        <span class="text-xs">â†—</span>
      </a>
    </div>

    <main class="w-full max-w-[480px] sm:max-w-4xl mx-auto">
      <section
        id="card"
        class="bg-white/5 backdrop-blur-xl border border-white/10 shadow-2xl rounded-2xl p-6 sm:p-8 transition-opacity duration-300 ease-in-out"
      >
        <div class="space-y-3 mb-4">
          <div class="flex items-center justify-between text-sm text-slate-300">
            <span id="progressLabel">Q1 / 10</span>
          </div>
          <div class="h-2 w-full bg-white/10 rounded-full overflow-hidden">
            <div
              id="progressBar"
              class="h-full bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full transition-all duration-300 ease-out"
              style="width: 10%"
            ></div>
          </div>
        </div>

        <h1 class="text-2xl sm:text-3xl font-semibold mb-2" data-i18n="title">
          ğŸ§  í•˜ë£¨ ì •ì‹  ì²´ë ¥ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸
        </h1>
        <p class="text-base sm:text-lg text-slate-200 mb-6" data-i18n="subtitle">
          ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë‡Œ ì—ë„ˆì§€ì™€ ì§‘ì¤‘ë ¥ ìƒíƒœë¥¼ ì§„ë‹¨í•©ë‹ˆë‹¤.
        </p>

        <div
          id="questionBlock"
          class="space-y-4 question-anim question-visible"
        >
          <p id="questionText" class="text-xl font-semibold text-slate-50"></p>
          <div id="options" class="space-y-3"></div>
        </div>

        <div id="resultBlock" class="hidden space-y-4">
          <div
            id="resultBanner"
            class="rounded-xl p-4 bg-gradient-to-r from-slate-700 to-slate-900 border border-white/10 shadow-lg"
          >
            <p class="text-sm text-white/80 mb-1" data-i18n="resultStatus">
              ì˜¤ëŠ˜ì˜ ìƒíƒœ
            </p>
            <p id="resultTitle" class="text-2xl font-bold"></p>
            <p id="resultPercent" class="text-sm text-white/80"></p>
          </div>
          <p id="resultDesc" class="text-base text-slate-200"></p>
          <div>
            <p class="text-sm text-slate-300 mb-2" data-i18n="pointsLabel">
              ì²´ê° í¬ì¸íŠ¸
            </p>
            <ul
              id="resultDetail"
              class="list-disc list-inside space-y-1 text-slate-200 text-sm"
            ></ul>
          </div>
          <div>
            <p class="text-sm text-slate-300 mb-2" data-i18n="routineLabel">
              ì¶”ì²œ ë£¨í‹´
            </p>
            <div id="routine" class="flex flex-col gap-2"></div>
          </div>
          <p
            id="resultNote"
            class="text-sm text-slate-300 italic leading-relaxed"
          ></p>
          <button
            id="restart"
            class="mt-4 inline-flex items-center justify-center px-4 py-2 rounded-full bg-white text-slate-900 font-semibold hover:shadow-lg transition focus:outline-none focus:ring-2 focus:ring-white/40"
            data-i18n="restart"
          >
            ë‹¤ì‹œ í•˜ê¸°
          </button>
        </div>
      </section>

      <!-- Ad section moved below main content -->
      <div class="mt-6">
        <ins class="adsbygoogle"
             style="display:block; text-align:center"
             data-ad-client="ca-pub-1204894220949193"
             data-ad-slot="5145068706"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
           (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
    </main>

    <script>
      const translations = {
        ko: {
          metaTitle: "í•˜ë£¨ ì •ì‹  ì²´ë ¥ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸",
          metaDescription: "ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë‡Œ ì—ë„ˆì§€ì™€ ì§‘ì¤‘ë ¥ ìƒíƒœë¥¼ ì§„ë‹¨í•©ë‹ˆë‹¤.",
          metaOgTitle: "í•˜ë£¨ ì •ì‹  ì²´ë ¥ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸",
          metaOgDescription: "ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë©˜íƒˆì€ ëª‡ %ì¸ê°€?",
          title: "ğŸ§  í•˜ë£¨ ì •ì‹  ì²´ë ¥ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸",
          subtitle: "ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë‡Œ ì—ë„ˆì§€ì™€ ì§‘ì¤‘ë ¥ ìƒíƒœë¥¼ ì§„ë‹¨í•©ë‹ˆë‹¤.",
          resultStatus: "ì˜¤ëŠ˜ì˜ ìƒíƒœ",
          pointsLabel: "ì²´ê° í¬ì¸íŠ¸",
          routineLabel: "ì¶”ì²œ ë£¨í‹´",
          restart: "ë‹¤ì‹œ í•˜ê¸°",
          progressLabel: "Q{current} / {total}",
          resultCta: "ë‹¤ë¥¸ ì¬ë¯¸ìˆëŠ” í…ŒìŠ¤íŠ¸ë„ í•´ë³´ì„¸ìš”! ğŸ‘‰",
          resultPercent: "ì˜¤ëŠ˜ì˜ ì»¨ë””ì…˜: {percent}%",
          resultTitleWithScore: "{title} ({score}ì )",
          questions: [
            {
              text: "ì•„ì¹¨ì— ëˆˆ ë–´ì„ ë•Œ ëŠë‚Œì€?",
              options: [
                { label: "ì•ŒëŒ ì „ì— ìƒì¾Œí•˜ê²Œ ê¹¸", value: 10 },
                { label: "ì•ŒëŒê³¼ í•¨ê»˜ ë°”ë¡œ ì¼ì–´ë‚¨", value: 8 },
                { label: "ëª‡ ë²ˆì˜ ìŠ¤ëˆ„ì¦ˆ í›„ ê²¨ìš° ê¸°ìƒ", value: 5 },
                { label: "ì´ë¶ˆê³¼ í•œ ëª¸ì´ì—ˆìŒ", value: 2 },
              ],
            },
            {
              text: "ì˜¤ëŠ˜ ì§‘ì¤‘ì´ í’€ë¦¬ê¸°ê¹Œì§€ ê±¸ë¦° ì‹œê°„ì€?",
              options: [
                { label: "1ì‹œê°„ ì´ìƒ ì­‰ ëª°ì…", value: 10 },
                { label: "30ë¶„ ì •ë„", value: 8 },
                { label: "15ë¶„ ì •ë„", value: 5 },
                { label: "5ë¶„ë„ ë²„í‹°ê¸° í˜ë“¦", value: 2 },
              ],
            },
            {
              text: "í˜„ì¬ í•  ì¼ ëª©ë¡ì„ ë³´ë©´?",
              options: [
                { label: "ìš°ì„ ìˆœìœ„ ëª…í™•, ê°€ë³ê²Œ í•  ìˆ˜ ìˆìŒ", value: 10 },
                { label: "ì¡°ê¸ˆ ë§ì§€ë§Œ ê´€ë¦¬ ê°€ëŠ¥", value: 8 },
                { label: "ì–´ë””ì„œ ì‹œì‘í• ì§€ ê³ ë¯¼ ì¤‘", value: 5 },
                { label: "ìƒê°ë§Œ í•´ë„ ìˆ¨ ë§‰í˜", value: 2 },
              ],
            },
            {
              text: "ì•Œë¦¼ê³¼ ë©”ì‹œì§€ì— ëŒ€í•œ ëŠë‚Œì€?",
              options: [
                { label: "í•„ìš” ì•Œë¦¼ë§Œ, ë‚˜ë¨¸ì§„ ì ê¸ˆ", value: 10 },
                { label: "ì¡°ê¸ˆ ì‹œë„ëŸ½ì§€ë§Œ ê²¬ë”œ ë§Œí•¨", value: 8 },
                { label: "ëŠì„ì—†ì´ ìš¸ë ¤ì„œ ê±°ìŠ¬ë¦¼", value: 5 },
                { label: "ì´ë¯¸ í¬ê¸°, ì†ë„ ëª» ëŒ", value: 2 },
              ],
            },
            {
              text: "ìµœê·¼ ìˆ˜ë©´ í€„ë¦¬í‹°ëŠ”?",
              options: [
                { label: "7~8ì‹œê°„, ìˆ™ë©´ ëŠë‚Œ", value: 10 },
                { label: "6ì‹œê°„ ì •ë„, ê´œì°®ìŒ", value: 8 },
                { label: "4~5ì‹œê°„, ë’¤ì²™ì„", value: 5 },
                { label: "ì ë“  ê±´ì§€ ëª¨ë¥¼ ì •ë„", value: 2 },
              ],
            },
            {
              text: "ì¹´í˜ì¸ ìƒíƒœëŠ”?",
              options: [
                { label: "í•„ìš” ì—†ê±°ë‚˜ ì ë‹¹íˆ ë”± ë§ìŒ", value: 10 },
                { label: "í•œ ì”ìœ¼ë¡œ ì¶©ë¶„", value: 8 },
                { label: "ë‘ ì”ì§¸ ì°¾ëŠ” ì¤‘", value: 5 },
                { label: "ì´ë¯¸ ê³¼íˆ¬ì…, ì† ë–¨ë¦¼", value: 2 },
              ],
            },
            {
              text: "í˜„ì¬ ê°ì • ì˜¨ë„ëŠ”?",
              options: [
                { label: "ì°¨ë¶„í•˜ê³  ì•ˆì •ì ", value: 10 },
                { label: "ì¡°ê¸ˆ ë“¤ëœ¸/ì‚´ì§ ë¶ˆì•ˆ", value: 8 },
                { label: "ì‰½ê²Œ ì˜ˆë¯¼í•´ì§", value: 5 },
                { label: "í­ë°œ ì§ì „", value: 2 },
              ],
            },
            {
              text: "ì˜¤ëŠ˜ ëª¸ì„ ì–¼ë§ˆë‚˜ ì›€ì§ì˜€ë‚˜ìš”?",
              options: [
                { label: "10ë¶„ ì´ìƒ ìŠ¤íŠ¸ë ˆì¹­/ì‚°ì±…", value: 10 },
                { label: "ì§§ê²Œë¼ë„ ëª¸ í’€ì—ˆìŒ", value: 8 },
                { label: "ìë¦¬ì—ì„œ ì¼ì–´ë‚¬ë‹¤ê°€ ë§ì•˜ìŒ", value: 5 },
                { label: "ì˜ìì™€ ì¹œêµ¬ê°€ ë¨", value: 2 },
              ],
            },
            {
              text: "ë©€í‹°íƒœìŠ¤í‚¹ ì •ë„ëŠ”?",
              options: [
                { label: "í•˜ë‚˜ì”© ì§‘ì¤‘, íë¦„ ìœ ì§€", value: 10 },
                { label: "ë‘ ê°œ ì •ë„ ë³‘í–‰ ê°€ëŠ¥", value: 8 },
                { label: "ì—¬ëŸ¬ ê°œ ê±´ë“œë¦¬ë‹¤ ë¯¸ì™„ë£Œ", value: 5 },
                { label: "ë¨¸ë¦¿ì† íƒ­ ê³¼ë¶€í•˜", value: 2 },
              ],
            },
            {
              text: "ì§€ê¸ˆ ë¨¸ë¦¿ì† ì¡ìŒ ìˆ˜ì¤€ì€?",
              options: [
                { label: "ë§‘ìŒ, ëª©í‘œë§Œ ë– ì˜¤ë¦„", value: 10 },
                { label: "ì•½ê°„ì˜ ë…¸ì´ì¦ˆ", value: 8 },
                { label: "ìƒê°ì´ ìì£¼ íŠ", value: 5 },
                { label: "ì™„ì „ ì¡ìŒ ë¼ë””ì˜¤", value: 2 },
              ],
            },
          ],
          results: [
            {
              range: [20, 45],
              title: "ğŸª« ë°°í„°ë¦¬ 10% ëª¨ë“œ",
              desc: "ì˜¤ëŠ˜ì˜ ë‹¹ì‹ ì€ â€˜ìƒê°ì€ ìˆëŠ”ë° ëª¸ì´ ì•ˆ ë”°ë¼ì£¼ëŠ” ë‚ â€™ì…ë‹ˆë‹¤. ì˜ì§€ê°€ ì•„ë‹ˆë¼ ë‡Œ ì—ë„ˆì§€ê°€ ë¶€ì¡±í•œ ìƒíƒœì˜ˆìš”.",
              routine: [
                "5ë¶„ ì •ë¦¬",
                "ë¬¼ 200ml",
                "ì˜¤ëŠ˜ í•  ì¼ 1ê°œë§Œ",
                "ì¹´í˜ì¸ ì¶”ê°€ ê¸ˆì§€",
              ],
              detail: [
                "ì‘ì€ ì¼ë„ í¬ê²Œ ëŠê»´ì§€ê³  ê²°ì • í”¼ë¡œë„ê°€ ì‰½ê²Œ ì˜´",
                "ì£¼ë³€ ìê·¹ì— ì˜ˆë¯¼í•˜ê³  ì§‘ì¤‘ì´ ìì£¼ ëŠê¹€",
                "ì˜ì§€ê°€ ì•„ë‹ˆë¼ ì—ë„ˆì§€ ë¶€ì¡± ìƒíƒœ",
              ],
              note: "ë‹¹ì‹ ì€ ë¬¸ì œê°€ ìˆëŠ” ê²Œ ì•„ë‹ˆë¼, ì—ë„ˆì§€ê°€ í•„ìš”í•œ ê²ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ â€˜ìµœì†Œí•œì˜ í•˜ë£¨â€™ë¥¼ í—ˆë½í•´ ì£¼ì„¸ìš”.",
            },
            {
              range: [46, 65],
              title: "ğŸŒ« ì•ˆê°œ ëª¨ë“œ",
              desc: "ìƒê°ì€ ë§ì§€ë§Œ í–‰ë™ì´ ì˜ ë¶™ì§€ ì•ŠëŠ” ë‚ ì…ë‹ˆë‹¤. ë¨¸ë¦¿ì† íƒ­ì´ ë„ˆë¬´ ë§ì•„ íë¦„ì´ ìì£¼ ëŠì–´ì§‘ë‹ˆë‹¤.",
              routine: [
                "í•  ì¼ 5ë¶„ ë‹¨ìœ„ë¡œ ìª¼ê°œê¸°",
                "íƒ€ì´ë¨¸ 3ë¶„ ìŠ¤íƒ€íŠ¸",
                "ì•Œë¦¼ 15ë¶„ OFF",
              ],
              detail: [
                "í•´ì•¼ í•  ê±¸ ì•Œì§€ë§Œ ì‹œì‘ì´ ì–´ë µê³  ì†ë„ê°€ ëŠë¦¼",
                "ë¨¸ë¦¿ì† ì” ì¡ìŒì´ ì„ì—¬ ì§‘ì¤‘ì´ ííŠ¸ëŸ¬ì§",
                "ì´ˆì ì´ ì•ˆ ì¡í˜€ë„ ê´œì°®ìŒ, ì†ë„ë¥¼ ì¤„ì´ëŠ” ê²Œ í•´ê²°ì±…",
              ],
              note: "ì´ˆì ì´ ì•ˆ ì¡íˆëŠ” ë‚ ì€ ì†ë„ë¥¼ ì¤„ì´ëŠ” ê²Œ í•´ê²°ë²•ì…ë‹ˆë‹¤.",
            },
            {
              range: [66, 82],
              title: "ğŸ”¥ ì˜¤ë²„íˆíŠ¸ ëª¨ë“œ",
              desc: "ìƒê°ê³¼ ì¼ì •ì´ ê³¼ì—´ëœ ìƒíƒœì…ë‹ˆë‹¤. ì§€ê¸ˆë„ ì˜í•˜ê³  ìˆì§€ë§Œ ë„ˆë¬´ ë§ì€ ê±¸ ë™ì‹œì— ì²˜ë¦¬í•˜ë ¤ê³  í•˜ê³  ìˆì–´ìš”.",
              routine: ["10ë¶„ ì‚°ì±…", "ì˜¤ëŠ˜ ì¼ì • 1ê°œ ì œê±°", "ì•Œë¦¼ 30ë¶„ OFF"],
              detail: [
                "ìƒê° ì†ë„ëŠ” ë¹ ë¥´ê³  í•  ì¼ë„ ë§ìŒ",
                "ì±…ì„ê°ì´ ê°•í•´ë„ ë‡ŒëŠ” ì‰¬ê³  ì‹¶ì–´ í•¨",
                "ëª°ì…ì€ ë¬´ê¸°ì§€ë§Œ ê³¼ì—´ì€ íšŒë³µì´ í•„ìš”",
              ],
              note: "ëª°ì…ì€ ë¬´ê¸°ì§€ë§Œ, ê³¼ì—´ì€ ë§ê°€ì§ì˜ ì‹œì‘ì…ë‹ˆë‹¤.",
            },
            {
              range: [83, 100],
              title: "ğŸ§Š ëƒ‰ì • ëª¨ë“œ",
              desc: "ì˜¤ëŠ˜ì˜ ë‹¹ì‹ ì€ â€˜ì¡°ìš©íˆ ê°•í•œ ë‚ â€™ì…ë‹ˆë‹¤. ì§‘ì¤‘ë ¥, ê°ì • íšŒë³µë ¥, í†µì œë ¥ ëª¨ë‘ ì•ˆì •ì ì…ë‹ˆë‹¤.",
              routine: [
                "ì¤‘ìš”í•œ ì¼ ë¨¼ì € ì²˜ë¦¬",
                "25ë¶„ ì§‘ì¤‘/5ë¶„ íšŒë³µ",
                "ê´€ê³„ ì±™ê¸°ê¸° ë£¨í‹´",
              ],
              detail: [
                "ê°ì • ê¸°ë³µì´ ì ê³  ìš°ì„ ìˆœìœ„ íŒë‹¨ì´ ëª…í™•",
                "ì§‘ì¤‘ ì „í™˜ ì†ë„ê°€ ë¹ ë¥´ê³  ìê¸° í†µì œë ¥ì´ ë†’ìŒ",
                "ì´ëŸ° ë‚ ì€ í¬ì†Œí•˜ë‹ˆ ì¤‘ìš”í•œ ì¼ì„ ë¨¼ì € ì‹¤í–‰",
              ],
              note: "ì´ëŸ° ë‚  ë§ì´ ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ê±¸ í•˜ì„¸ìš”.",
            },
          ],
        },
        en: {
          metaTitle: "Daily Mental Stamina Test",
          metaDescription: "Check your brain energy and focus level today.",
          metaOgTitle: "Daily Mental Stamina Test",
          metaOgDescription: "What's your mental stamina today?",
          title: "ğŸ§  Daily Mental Stamina Test",
          subtitle: "Check your brain energy and focus level today.",
          resultStatus: "Today's state",
          pointsLabel: "Key signals",
          routineLabel: "Suggested routine",
          restart: "Restart",
          progressLabel: "Q{current} / {total}",
          resultCta: "Try other fun tests too! ğŸ‘‰",
          resultPercent: "Today's condition: {percent}%",
          resultTitleWithScore: "{title} ({score} pts)",
          questions: [
            {
              text: "How did you feel when you woke up?",
              options: [
                { label: "Woke up refreshed before the alarm", value: 10 },
                { label: "Got up right with the alarm", value: 8 },
                { label: "Snoozed several times", value: 5 },
                { label: "Fused with the blanket", value: 2 },
              ],
            },
            {
              text: "How long did you stay focused today?",
              options: [
                { label: "Over an hour, deep focus", value: 10 },
                { label: "Around 30 minutes", value: 8 },
                { label: "About 15 minutes", value: 5 },
                { label: "Couldn't last 5 minutes", value: 2 },
              ],
            },
            {
              text: "Looking at your to-do list",
              options: [
                { label: "Clear priorities, feels light", value: 10 },
                { label: "A bit much but manageable", value: 8 },
                { label: "Not sure where to start", value: 5 },
                { label: "Just thinking about it is heavy", value: 2 },
              ],
            },
            {
              text: "Notifications and messages feel",
              options: [
                { label: "Only essentials on, the rest muted", value: 10 },
                { label: "A bit noisy but tolerable", value: 8 },
                { label: "Nonstop and distracting", value: 5 },
                { label: "Already given up", value: 2 },
              ],
            },
            {
              text: "Recent sleep quality",
              options: [
                { label: "7-8 hours, deep sleep", value: 10 },
                { label: "About 6 hours, okay", value: 8 },
                { label: "4-5 hours, restless", value: 5 },
                { label: "Not sure I even slept", value: 2 },
              ],
            },
            {
              text: "Caffeine status",
              options: [
                { label: "Not needed or just right", value: 10 },
                { label: "One cup is enough", value: 8 },
                { label: "Looking for the second cup", value: 5 },
                { label: "Overloaded, hands shaking", value: 2 },
              ],
            },
            {
              text: "Current emotional temperature",
              options: [
                { label: "Calm and stable", value: 10 },
                { label: "Slightly excited/anxious", value: 8 },
                { label: "Easily irritable", value: 5 },
                { label: "About to explode", value: 2 },
              ],
            },
            {
              text: "How much did you move today?",
              options: [
                { label: "10+ minutes stretch/walk", value: 10 },
                { label: "Moved a little", value: 8 },
                { label: "Stood up once or twice", value: 5 },
                { label: "Became one with the chair", value: 2 },
              ],
            },
            {
              text: "Your multitasking level",
              options: [
                { label: "Focus on one, keep flow", value: 10 },
                { label: "Handle about two tasks", value: 8 },
                { label: "Touched many, finished none", value: 5 },
                { label: "Too many tabs in my head", value: 2 },
              ],
            },
            {
              text: "Noise level in your head",
              options: [
                { label: "Clear, only goals", value: 10 },
                { label: "A bit of noise", value: 8 },
                { label: "Thoughts jump around", value: 5 },
                { label: "Full static radio", value: 2 },
              ],
            },
          ],
          results: [
            {
              range: [20, 45],
              title: "ğŸª« Battery 10% Mode",
              desc: "Today is a day where your mind wants to move but your energy can't keep up.",
              routine: [
                "5-minute tidy",
                "200ml water",
                "Only 1 task today",
                "No extra caffeine",
              ],
              detail: [
                "Even small tasks feel heavy and decision fatigue hits fast",
                "Sensitive to stimuli and focus breaks often",
                "Not a willpower issue - it's low energy",
              ],
              note: "You're not broken; you need energy. Allow a \"minimum day\" today.",
            },
            {
              range: [46, 65],
              title: "ğŸŒ« Fog Mode",
              desc: "Lots of thoughts, but action doesn't stick. Too many tabs in your head.",
              routine: [
                "Split tasks into 5-minute chunks",
                "Start a 3-minute timer",
                "Mute notifications for 15 minutes",
              ],
              detail: [
                "You know what to do, but starting feels hard",
                "Background noise makes focus wobble",
                "Lowering speed is the fix",
              ],
              note: "On foggy days, slowing down is the solution.",
            },
            {
              range: [66, 82],
              title: "ğŸ”¥ Overheat Mode",
              desc: "Your thoughts and schedule are overheating. You're doing well, but too much at once.",
              routine: ["10-minute walk", "Remove 1 task today", "Mute alerts 30 min"],
              detail: [
                "Fast mind, too many tasks",
                "Strong responsibility, but the brain wants rest",
                "Focus is a weapon, overheating needs recovery",
              ],
              note: "Focus is a weapon, but overheating is the start of burnout.",
            },
            {
              range: [83, 100],
              title: "ğŸ§Š Cool Mode",
              desc: "A quietly strong day. Focus, emotional recovery, and control are stable.",
              routine: [
                "Do the most important task first",
                "25 min focus / 5 min recovery",
                "Check in with relationships",
              ],
              detail: [
                "Low emotional swings and clear priorities",
                "Quick focus switching, strong self-control",
                "These days are rare, use them well",
              ],
              note: "Days like this are rare. Do the important thing.",
            },
          ],
        },
      };

      const defaultLang = "ko";
      const supportedLangs = ["ko", "en"];
      let currentLang = defaultLang;

      function t(key, vars = {}) {
        const langTable = translations[currentLang] || translations.ko;
        const template = langTable[key] ?? translations.ko[key] ?? key;
        return String(template).replace(/\{(\w+)\}/g, (_, token) =>
          vars[token] !== undefined ? vars[token] : `{${token}}`
        );
      }

      function getQuestions() {
        return (translations[currentLang] || translations.ko).questions;
      }

      function getResults() {
        return (translations[currentLang] || translations.ko).results;
      }

      function applyTranslations() {
        document.title = t("metaTitle");
        const desc = document.querySelector('meta[name="description"]');
        if (desc) desc.setAttribute("content", t("metaDescription"));
        const ogTitle = document.querySelector('meta[property="og:title"]');
        if (ogTitle) ogTitle.setAttribute("content", t("metaOgTitle"));
        const ogDesc = document.querySelector('meta[property="og:description"]');
        if (ogDesc) ogDesc.setAttribute("content", t("metaOgDescription"));

        document.querySelectorAll("[data-i18n]").forEach((el) => {
          el.textContent = t(el.dataset.i18n);
        });
      }

      function setLang(lang, options = {}) {
        const nextLang = translations[lang] ? lang : defaultLang;
        currentLang = nextLang;
        document.documentElement.lang = nextLang;
        localStorage.setItem("preferredLang", nextLang);
        document.querySelectorAll(".lang-switch button").forEach((button) => {
          button.classList.toggle("active", button.dataset.lang === nextLang);
        });
        applyTranslations();
        if (resultBlock.classList.contains("hidden")) {
          renderQuestion();
        } else {
          showResult();
        }

        if (options.updateUrl) {
          const url = new URL(window.location.href);
          url.searchParams.set("lang", nextLang);
          window.history.replaceState({}, "", url);
        }
      }

      function detectLang() {
        const params = new URLSearchParams(window.location.search);
        const paramLang = params.get("lang");
        if (supportedLangs.includes(paramLang)) return paramLang;
        const stored = localStorage.getItem("preferredLang");
        if (supportedLangs.includes(stored)) return stored;
        const browserLang =
          navigator.languages && navigator.languages.length
            ? navigator.languages[0]
            : navigator.language;
        if (browserLang && browserLang.toLowerCase().startsWith("ko")) {
          return "ko";
        }
        return defaultLang;
      }

      const cardEl = document.getElementById("card");
      const progressLabel = document.getElementById("progressLabel");
      const questionText = document.getElementById("questionText");
      const optionsEl = document.getElementById("options");
      const questionBlock = document.getElementById("questionBlock");
      const resultBlock = document.getElementById("resultBlock");
      const resultTitle = document.getElementById("resultTitle");
      const resultDesc = document.getElementById("resultDesc");
      const resultDetail = document.getElementById("resultDetail");
      const resultNote = document.getElementById("resultNote");
      const resultPercent = document.getElementById("resultPercent");
      const resultBanner = document.getElementById("resultBanner");
      const routineEl = document.getElementById("routine");
      const restartBtn = document.getElementById("restart");
      const progressBar = document.getElementById("progressBar");

      let currentIndex = 0;
      let totalScore = 0;
      let transitioning = false;

      function sendEvent(name, payload) {
        // placeholder hook for analytics integrations
        console.log("analytics", name, payload || {});
      }
      const funnyLink = document.querySelector(
        'a[href="https://funnyfunny.cloud"]'
      );
      funnyLink?.addEventListener("click", () => sendEvent("nav_funnyfunny"));

      function renderQuestion() {
        const questions = getQuestions();
        const q = questions[currentIndex];
        progressLabel.textContent = t("progressLabel", {
          current: currentIndex + 1,
          total: questions.length,
        });
        const progressPercent = (currentIndex / questions.length) * 100;
        progressBar.style.width = `${Math.max(progressPercent, 5)}%`;
        questionText.textContent = q.text;
        optionsEl.innerHTML = "";
        q.options.forEach((opt) => {
          const btn = document.createElement("button");
          btn.type = "button";
          btn.className =
            "w-full text-left px-4 py-3 min-h-[52px] rounded-2xl bg-white/10 border border-white/10 hover:border-white/30 shadow-sm hover:shadow-md text-base sm:text-lg transition focus:outline-none focus:ring-2 focus:ring-white/30";
          btn.textContent = opt.label;
          btn.onclick = () => handleSelect(opt.value);
          optionsEl.appendChild(btn);
        });
        questionBlock.classList.remove("question-hidden");
        questionBlock.classList.add("question-visible");
      }

      function handleSelect(value) {
        if (transitioning) return;
        transitioning = true;
        totalScore += value;
        const questionId = currentIndex;
        sendEvent("quiz_answer", { questionId, value });
        questionBlock.classList.remove("question-visible");
        questionBlock.classList.add("question-hidden");
        setTimeout(() => {
          currentIndex += 1;
          if (currentIndex >= getQuestions().length) {
            showResult();
          } else {
            renderQuestion();
          }
          transitioning = false;
        }, 220);
      }

      function showResult() {
        // result.htmlë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
        const result =
          getResults().find(
            (r) => totalScore >= r.range[0] && totalScore <= r.range[1]
          ) || getResults()[getResults().length - 1];
        const normalized = Math.max(
          0,
          Math.min(100, Math.round(((totalScore - 20) / 80) * 100))
        );
        const params = new URLSearchParams({
          score: totalScore.toString(),
          percent: normalized.toString(),
          title: result.title || '',
          type: result.title || ''
        });
        window.location.href = `result.html?${params.toString()}`;
      }
      
      // ê¸°ì¡´ showResult ë¡œì§ (ë ˆê±°ì‹œ ì§€ì›ìš©)
      function showResultOld() {
        questionBlock.classList.add("hidden");
        resultBlock.classList.remove("hidden");
        progressLabel.textContent = t("resultCta");
        progressBar.style.width = "100%";
        const result =
          getResults().find(
            (r) => totalScore >= r.range[0] && totalScore <= r.range[1]
          ) || getResults()[getResults().length - 1];
        resultTitle.textContent = t("resultTitleWithScore", {
          title: result.title,
          score: totalScore,
        });
        const normalized = Math.max(
          0,
          Math.min(100, Math.round(((totalScore - 20) / 80) * 100))
        );
        resultPercent.textContent = t("resultPercent", { percent: normalized });
        resultDesc.textContent = result.desc;
        resultDetail.innerHTML = "";
        result.detail.forEach((item) => {
          const li = document.createElement("li");
          li.textContent = item;
          resultDetail.appendChild(li);
        });
        resultNote.textContent = result.note;
        routineEl.innerHTML = "";
        result.routine.forEach((item) => {
          const tag = document.createElement("span");
          tag.className =
            "px-3 py-2 rounded-full bg-white/90 text-slate-900 text-sm font-semibold inline-flex items-center gap-2 shadow-sm";
          const checkbox = document.createElement("span");
          checkbox.className =
            "inline-flex h-4 w-4 rounded border border-slate-300 bg-white";
          const text = document.createElement("span");
          text.textContent = item;
          tag.appendChild(checkbox);
          tag.appendChild(text);
          routineEl.appendChild(tag);
        });
        applyResultTheme(result.title);
        sendEvent("quiz_complete", {
          score: totalScore,
          resultType: result.title,
        });
      }

      restartBtn.addEventListener("click", () => {
        totalScore = 0;
        currentIndex = 0;
        resultBlock.classList.add("hidden");
        questionBlock.classList.remove("hidden");
        questionBlock.classList.remove("question-hidden");
        questionBlock.classList.add("question-visible");
        progressBar.style.width = "10%";
        sendEvent("quiz_start");
        renderQuestion();
      });

      function applyResultTheme(title) {
        const themes = {
          "ğŸª«": "from-orange-500/90 to-red-600/90 border-orange-200/40",
          "ğŸŒ«": "from-slate-500/90 to-slate-700/90 border-slate-200/40",
          "ğŸ”¥": "from-amber-500/90 to-rose-600/90 border-amber-200/40",
          "ğŸ§Š": "from-cyan-500/90 to-blue-700/90 border-cyan-200/40",
        };
        const key = title.slice(0, 2);
        const theme = themes[key] || themes["ğŸŒ«"];
        resultBanner.className = `rounded-xl p-4 bg-gradient-to-r ${theme} shadow-lg`;
      }

      document.querySelectorAll(".lang-switch button").forEach((button) => {
        button.addEventListener("click", () => {
          setLang(button.dataset.lang, { updateUrl: true });
        });
      });

      sendEvent("quiz_start");
      setLang(detectLang(), { updateUrl: false });
    </script>
</body>
</html>
