<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í•˜ë£¨ ì •ì‹  ì²´ë ¥ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸</title>
    <meta
      name="description"
      content="ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë‡Œ ì—ë„ˆì§€ì™€ ì§‘ì¤‘ë ¥ ìƒíƒœë¥¼ ì§„ë‹¨í•©ë‹ˆë‹¤."
    />
    <meta property="og:title" content="í•˜ë£¨ ì •ì‹  ì²´ë ¥ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸" />
    <meta property="og:description" content="ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë©˜íƒˆì€ ëª‡ %ì¸ê°€?" />
    <meta
      property="og:image"
      content="https://dummyimage.com/1200x630/000/fff&text=Mental+Stamina+Test"
    />
    <meta property="og:type" content="website" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        font-size: 17px;
      }
      @media (min-width: 640px) {
        :root {
          font-size: 16px;
        }
      }
      body {
        overflow: hidden;
      }
      .question-anim {
        transition: opacity 220ms ease, transform 220ms ease;
      }
      .question-hidden {
        opacity: 0;
        transform: translateY(-8px);
      }
      .question-visible {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
    <meta property="og:image:alt" content="Daily Mental Stamina Test" />
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20100%20100%27%3E%3Ctext%20y%3D%27.9em%27%20font-size%3D%2790%27%3E%F0%9F%A7%A0%3C/text%3E%3C/svg%3E"
    />
  </head>
  <body
    class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-950 to-slate-900 text-slate-50 flex items-center justify-center px-4 py-6 text-[17px] sm:text-base"
  >
    <main class="w-full max-w-[480px]">
      <section
        id="card"
        class="bg-white/5 backdrop-blur-xl border border-white/10 shadow-2xl rounded-2xl p-6 sm:p-8 transition-opacity duration-300 ease-in-out"
      >
        <div class="space-y-3 mb-4">
          <div class="flex items-center justify-between text-sm text-slate-300">
            <span id="progressLabel">Q1 / 10</span>
            <a
              href="https://funnyfunny.cloud"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-1 px-3 py-1.5 rounded-full bg-white/15 text-slate-100 hover:text-white hover:bg-white/30 shadow-sm hover:shadow-md transition"
            >
              <span class="text-[11px] tracking-wide uppercase font-semibold"
                >FunnyFunny Cloud</span
              >
              <span class="text-xs">â†—</span>
            </a>
          </div>
          <div class="h-2 w-full bg-white/10 rounded-full overflow-hidden">
            <div
              id="progressBar"
              class="h-full bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full transition-all duration-300 ease-out"
              style="width: 10%"
            ></div>
          </div>
        </div>

        <h1 class="text-2xl sm:text-3xl font-semibold mb-2">
          ğŸ§  í•˜ë£¨ ì •ì‹  ì²´ë ¥ ì§€ìˆ˜ í…ŒìŠ¤íŠ¸
        </h1>
        <p class="text-base sm:text-lg text-slate-200 mb-6">
          ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë‡Œ ì—ë„ˆì§€ì™€ ì§‘ì¤‘ë ¥ ìƒíƒœë¥¼ ì§„ë‹¨í•©ë‹ˆë‹¤.
        </p>

        <div
          id="questionBlock"
          class="space-y-4 question-anim question-visible"
        >
          <p id="questionText" class="text-xl font-semibold text-slate-50"></p>
          <div id="options" class="space-y-3"></div>
        </div>

        <div id="resultBlock" class="hidden space-y-4">
          <div
            id="resultBanner"
            class="rounded-xl p-4 bg-gradient-to-r from-slate-700 to-slate-900 border border-white/10 shadow-lg"
          >
            <p class="text-sm text-white/80 mb-1">ì˜¤ëŠ˜ì˜ ìƒíƒœ</p>
            <p id="resultTitle" class="text-2xl font-bold"></p>
            <p id="resultPercent" class="text-sm text-white/80"></p>
          </div>
          <p id="resultDesc" class="text-base text-slate-200"></p>
          <div>
            <p class="text-sm text-slate-300 mb-2">ì²´ê° í¬ì¸íŠ¸</p>
            <ul
              id="resultDetail"
              class="list-disc list-inside space-y-1 text-slate-200 text-sm"
            ></ul>
          </div>
          <div>
            <p class="text-sm text-slate-300 mb-2">ì¶”ì²œ ë£¨í‹´</p>
            <div id="routine" class="flex flex-col gap-2"></div>
          </div>
          <p
            id="resultNote"
            class="text-sm text-slate-300 italic leading-relaxed"
          ></p>
          <button
            id="restart"
            class="mt-4 inline-flex items-center justify-center px-4 py-2 rounded-full bg-white text-slate-900 font-semibold hover:shadow-lg transition focus:outline-none focus:ring-2 focus:ring-white/40"
          >
            ë‹¤ì‹œ í•˜ê¸°
          </button>
        </div>
      </section>
    </main>

    <script>
      const questions = [
        {
          text: "ì•„ì¹¨ì— ëˆˆ ë–´ì„ ë•Œ ëŠë‚Œì€?",
          options: [
            { label: "ì•ŒëŒ ì „ì— ìƒì¾Œí•˜ê²Œ ê¹¸", value: 10 },
            { label: "ì•ŒëŒê³¼ í•¨ê»˜ ë°”ë¡œ ì¼ì–´ë‚¨", value: 8 },
            { label: "ëª‡ ë²ˆì˜ ìŠ¤ëˆ„ì¦ˆ í›„ ê²¨ìš° ê¸°ìƒ", value: 5 },
            { label: "ì´ë¶ˆê³¼ í•œ ëª¸ì´ì—ˆìŒ", value: 2 },
          ],
        },
        {
          text: "ì˜¤ëŠ˜ ì§‘ì¤‘ì´ í’€ë¦¬ê¸°ê¹Œì§€ ê±¸ë¦° ì‹œê°„ì€?",
          options: [
            { label: "1ì‹œê°„ ì´ìƒ ì­‰ ëª°ì…", value: 10 },
            { label: "30ë¶„ ì •ë„", value: 8 },
            { label: "15ë¶„ ì •ë„", value: 5 },
            { label: "5ë¶„ë„ ë²„í‹°ê¸° í˜ë“¦", value: 2 },
          ],
        },
        {
          text: "í˜„ì¬ í•  ì¼ ëª©ë¡ì„ ë³´ë©´?",
          options: [
            { label: "ìš°ì„ ìˆœìœ„ ëª…í™•, ê°€ë³ê²Œ í•  ìˆ˜ ìˆìŒ", value: 10 },
            { label: "ì¡°ê¸ˆ ë§ì§€ë§Œ ê´€ë¦¬ ê°€ëŠ¥", value: 8 },
            { label: "ì–´ë””ì„œ ì‹œì‘í• ì§€ ê³ ë¯¼ ì¤‘", value: 5 },
            { label: "ìƒê°ë§Œ í•´ë„ ìˆ¨ ë§‰í˜", value: 2 },
          ],
        },
        {
          text: "ì•Œë¦¼ê³¼ ë©”ì‹œì§€ì— ëŒ€í•œ ëŠë‚Œì€?",
          options: [
            { label: "í•„ìš” ì•Œë¦¼ë§Œ, ë‚˜ë¨¸ì§„ ì ê¸ˆ", value: 10 },
            { label: "ì¡°ê¸ˆ ì‹œë„ëŸ½ì§€ë§Œ ê²¬ë”œ ë§Œí•¨", value: 8 },
            { label: "ëŠì„ì—†ì´ ìš¸ë ¤ì„œ ê±°ìŠ¬ë¦¼", value: 5 },
            { label: "ì´ë¯¸ í¬ê¸°, ì†ë„ ëª» ëŒ", value: 2 },
          ],
        },
        {
          text: "ìµœê·¼ ìˆ˜ë©´ í€„ë¦¬í‹°ëŠ”?",
          options: [
            { label: "7~8ì‹œê°„, ìˆ™ë©´ ëŠë‚Œ", value: 10 },
            { label: "6ì‹œê°„ ì •ë„, ê´œì°®ìŒ", value: 8 },
            { label: "4~5ì‹œê°„, ë’¤ì²™ì„", value: 5 },
            { label: "ì ë“  ê±´ì§€ ëª¨ë¥¼ ì •ë„", value: 2 },
          ],
        },
        {
          text: "ì¹´í˜ì¸ ìƒíƒœëŠ”?",
          options: [
            { label: "í•„ìš” ì—†ê±°ë‚˜ ì ë‹¹íˆ ë”± ë§ìŒ", value: 10 },
            { label: "í•œ ì”ìœ¼ë¡œ ì¶©ë¶„", value: 8 },
            { label: "ë‘ ì”ì§¸ ì°¾ëŠ” ì¤‘", value: 5 },
            { label: "ì´ë¯¸ ê³¼íˆ¬ì…, ì† ë–¨ë¦¼", value: 2 },
          ],
        },
        {
          text: "í˜„ì¬ ê°ì • ì˜¨ë„ëŠ”?",
          options: [
            { label: "ì°¨ë¶„í•˜ê³  ì•ˆì •ì ", value: 10 },
            { label: "ì¡°ê¸ˆ ë“¤ëœ¸/ì‚´ì§ ë¶ˆì•ˆ", value: 8 },
            { label: "ì‰½ê²Œ ì˜ˆë¯¼í•´ì§", value: 5 },
            { label: "í­ë°œ ì§ì „", value: 2 },
          ],
        },
        {
          text: "ì˜¤ëŠ˜ ëª¸ì„ ì–¼ë§ˆë‚˜ ì›€ì§ì˜€ë‚˜ìš”?",
          options: [
            { label: "10ë¶„ ì´ìƒ ìŠ¤íŠ¸ë ˆì¹­/ì‚°ì±…", value: 10 },
            { label: "ì§§ê²Œë¼ë„ ëª¸ í’€ì—ˆìŒ", value: 8 },
            { label: "ìë¦¬ì—ì„œ ì¼ì–´ë‚¬ë‹¤ê°€ ë§ì•˜ìŒ", value: 5 },
            { label: "ì˜ìì™€ ì¹œêµ¬ê°€ ë¨", value: 2 },
          ],
        },
        {
          text: "ë©€í‹°íƒœìŠ¤í‚¹ ì •ë„ëŠ”?",
          options: [
            { label: "í•˜ë‚˜ì”© ì§‘ì¤‘, íë¦„ ìœ ì§€", value: 10 },
            { label: "ë‘ ê°œ ì •ë„ ë³‘í–‰ ê°€ëŠ¥", value: 8 },
            { label: "ì—¬ëŸ¬ ê°œ ê±´ë“œë¦¬ë‹¤ ë¯¸ì™„ë£Œ", value: 5 },
            { label: "ë¨¸ë¦¿ì† íƒ­ ê³¼ë¶€í•˜", value: 2 },
          ],
        },
        {
          text: "ì§€ê¸ˆ ë¨¸ë¦¿ì† ì¡ìŒ ìˆ˜ì¤€ì€?",
          options: [
            { label: "ë§‘ìŒ, ëª©í‘œë§Œ ë– ì˜¤ë¦„", value: 10 },
            { label: "ì•½ê°„ì˜ ë…¸ì´ì¦ˆ", value: 8 },
            { label: "ìƒê°ì´ ìì£¼ íŠ", value: 5 },
            { label: "ì™„ì „ ì¡ìŒ ë¼ë””ì˜¤", value: 2 },
          ],
        },
      ];

      const resultConfig = [
        {
          range: [20, 45],
          title: "ğŸª« ë°°í„°ë¦¬ 10% ëª¨ë“œ",
          desc: "ì˜¤ëŠ˜ì˜ ë‹¹ì‹ ì€ â€˜ìƒê°ì€ ìˆëŠ”ë° ëª¸ì´ ì•ˆ ë”°ë¼ì£¼ëŠ” ë‚ â€™ì…ë‹ˆë‹¤. ì˜ì§€ê°€ ì•„ë‹ˆë¼ ë‡Œ ì—ë„ˆì§€ê°€ ë¶€ì¡±í•œ ìƒíƒœì˜ˆìš”.",
          routine: [
            "5ë¶„ ì •ë¦¬",
            "ë¬¼ 200ml",
            "ì˜¤ëŠ˜ í•  ì¼ 1ê°œë§Œ",
            "ì¹´í˜ì¸ ì¶”ê°€ ê¸ˆì§€",
          ],
          detail: [
            "ì‘ì€ ì¼ë„ í¬ê²Œ ëŠê»´ì§€ê³  ê²°ì • í”¼ë¡œë„ê°€ ì‰½ê²Œ ì˜´",
            "ì£¼ë³€ ìê·¹ì— ì˜ˆë¯¼í•˜ê³  ì§‘ì¤‘ì´ ìì£¼ ëŠê¹€",
            "ì˜ì§€ê°€ ì•„ë‹ˆë¼ ì—ë„ˆì§€ ë¶€ì¡± ìƒíƒœ",
          ],
          note: "ë‹¹ì‹ ì€ ë¬¸ì œê°€ ìˆëŠ” ê²Œ ì•„ë‹ˆë¼, ì—ë„ˆì§€ê°€ í•„ìš”í•œ ê²ë‹ˆë‹¤. ì˜¤ëŠ˜ì€ â€˜ìµœì†Œí•œì˜ í•˜ë£¨â€™ë¥¼ í—ˆë½í•´ ì£¼ì„¸ìš”.",
        },
        {
          range: [46, 65],
          title: "ğŸŒ« ì•ˆê°œ ëª¨ë“œ",
          desc: "ìƒê°ì€ ë§ì§€ë§Œ í–‰ë™ì´ ì˜ ë¶™ì§€ ì•ŠëŠ” ë‚ ì…ë‹ˆë‹¤. ë¨¸ë¦¿ì† íƒ­ì´ ë„ˆë¬´ ë§ì•„ íë¦„ì´ ìì£¼ ëŠì–´ì§‘ë‹ˆë‹¤.",
          routine: [
            "í•  ì¼ 5ë¶„ ë‹¨ìœ„ë¡œ ìª¼ê°œê¸°",
            "íƒ€ì´ë¨¸ 3ë¶„ ìŠ¤íƒ€íŠ¸",
            "ì•Œë¦¼ 15ë¶„ OFF",
          ],
          detail: [
            "í•´ì•¼ í•  ê±¸ ì•Œì§€ë§Œ ì‹œì‘ì´ ì–´ë µê³  ì†ë„ê°€ ëŠë¦¼",
            "ë¨¸ë¦¿ì† ì” ì¡ìŒì´ ì„ì—¬ ì§‘ì¤‘ì´ ííŠ¸ëŸ¬ì§",
            "ì´ˆì ì´ ì•ˆ ì¡í˜€ë„ ê´œì°®ìŒ, ì†ë„ë¥¼ ì¤„ì´ëŠ” ê²Œ í•´ê²°ì±…",
          ],
          note: "ì´ˆì ì´ ì•ˆ ì¡íˆëŠ” ë‚ ì€ ì†ë„ë¥¼ ì¤„ì´ëŠ” ê²Œ í•´ê²°ë²•ì…ë‹ˆë‹¤.",
        },
        {
          range: [66, 82],
          title: "ğŸ”¥ ì˜¤ë²„íˆíŠ¸ ëª¨ë“œ",
          desc: "ìƒê°ê³¼ ì¼ì •ì´ ê³¼ì—´ëœ ìƒíƒœì…ë‹ˆë‹¤. ì§€ê¸ˆë„ ì˜í•˜ê³  ìˆì§€ë§Œ ë„ˆë¬´ ë§ì€ ê±¸ ë™ì‹œì— ì²˜ë¦¬í•˜ë ¤ê³  í•˜ê³  ìˆì–´ìš”.",
          routine: ["10ë¶„ ì‚°ì±…", "ì˜¤ëŠ˜ ì¼ì • 1ê°œ ì œê±°", "ì•Œë¦¼ 30ë¶„ OFF"],
          detail: [
            "ìƒê° ì†ë„ëŠ” ë¹ ë¥´ê³  í•  ì¼ë„ ë§ìŒ",
            "ì±…ì„ê°ì´ ê°•í•´ë„ ë‡ŒëŠ” ì‰¬ê³  ì‹¶ì–´ í•¨",
            "ëª°ì…ì€ ë¬´ê¸°ì§€ë§Œ ê³¼ì—´ì€ íšŒë³µì´ í•„ìš”",
          ],
          note: "ëª°ì…ì€ ë¬´ê¸°ì§€ë§Œ, ê³¼ì—´ì€ ë§ê°€ì§ì˜ ì‹œì‘ì…ë‹ˆë‹¤.",
        },
        {
          range: [83, 100],
          title: "ğŸ§Š ëƒ‰ì • ëª¨ë“œ",
          desc: "ì˜¤ëŠ˜ì˜ ë‹¹ì‹ ì€ â€˜ì¡°ìš©íˆ ê°•í•œ ë‚ â€™ì…ë‹ˆë‹¤. ì§‘ì¤‘ë ¥, ê°ì • íšŒë³µë ¥, í†µì œë ¥ ëª¨ë‘ ì•ˆì •ì ì…ë‹ˆë‹¤.",
          routine: [
            "ì¤‘ìš”í•œ ì¼ ë¨¼ì € ì²˜ë¦¬",
            "25ë¶„ ì§‘ì¤‘/5ë¶„ íšŒë³µ",
            "ê´€ê³„ ì±™ê¸°ê¸° ë£¨í‹´",
          ],
          detail: [
            "ê°ì • ê¸°ë³µì´ ì ê³  ìš°ì„ ìˆœìœ„ íŒë‹¨ì´ ëª…í™•",
            "ì§‘ì¤‘ ì „í™˜ ì†ë„ê°€ ë¹ ë¥´ê³  ìê¸° í†µì œë ¥ì´ ë†’ìŒ",
            "ì´ëŸ° ë‚ ì€ í¬ì†Œí•˜ë‹ˆ ì¤‘ìš”í•œ ì¼ì„ ë¨¼ì € ì‹¤í–‰",
          ],
          note: "ì´ëŸ° ë‚  ë§ì´ ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ê±¸ í•˜ì„¸ìš”.",
        },
      ];

      const cardEl = document.getElementById("card");
      const progressLabel = document.getElementById("progressLabel");
      const questionText = document.getElementById("questionText");
      const optionsEl = document.getElementById("options");
      const questionBlock = document.getElementById("questionBlock");
      const resultBlock = document.getElementById("resultBlock");
      const resultTitle = document.getElementById("resultTitle");
      const resultDesc = document.getElementById("resultDesc");
      const resultDetail = document.getElementById("resultDetail");
      const resultNote = document.getElementById("resultNote");
      const resultPercent = document.getElementById("resultPercent");
      const resultBanner = document.getElementById("resultBanner");
      const routineEl = document.getElementById("routine");
      const restartBtn = document.getElementById("restart");
      const progressBar = document.getElementById("progressBar");

      let currentIndex = 0;
      let totalScore = 0;
      let transitioning = false;

      function sendEvent(name, payload) {
        // placeholder hook for analytics integrations
        console.log("analytics", name, payload || {});
      }
      const funnyLink = document.querySelector(
        'a[href="https://funnyfunny.cloud"]'
      );
      funnyLink?.addEventListener("click", () => sendEvent("nav_funnyfunny"));

      function renderQuestion() {
        const q = questions[currentIndex];
        progressLabel.textContent = `Q${currentIndex + 1} / ${
          questions.length
        }`;
        const progressPercent = (currentIndex / questions.length) * 100;
        progressBar.style.width = `${Math.max(progressPercent, 5)}%`;
        questionText.textContent = q.text;
        optionsEl.innerHTML = "";
        q.options.forEach((opt) => {
          const btn = document.createElement("button");
          btn.type = "button";
          btn.className =
            "w-full text-left px-4 py-3 min-h-[52px] rounded-2xl bg-white/10 border border-white/10 hover:border-white/30 shadow-sm hover:shadow-md text-base sm:text-lg transition focus:outline-none focus:ring-2 focus:ring-white/30";
          btn.textContent = opt.label;
          btn.onclick = () => handleSelect(opt.value);
          optionsEl.appendChild(btn);
        });
        questionBlock.classList.remove("question-hidden");
        questionBlock.classList.add("question-visible");
      }

      function handleSelect(value) {
        if (transitioning) return;
        transitioning = true;
        totalScore += value;
        const questionId = currentIndex;
        sendEvent("quiz_answer", { questionId, value });
        questionBlock.classList.remove("question-visible");
        questionBlock.classList.add("question-hidden");
        setTimeout(() => {
          currentIndex += 1;
          if (currentIndex >= questions.length) {
            showResult();
          } else {
            renderQuestion();
          }
          transitioning = false;
        }, 220);
      }

      function showResult() {
        questionBlock.classList.add("hidden");
        resultBlock.classList.remove("hidden");
        progressLabel.textContent = "ë‹¤ë¥¸ ì¬ë¯¸ìˆëŠ” í…ŒìŠ¤íŠ¸ë„ í•´ë³´ì„¸ìš”! ğŸ‘‰";
        progressBar.style.width = "100%";
        const result =
          resultConfig.find(
            (r) => totalScore >= r.range[0] && totalScore <= r.range[1]
          ) || resultConfig[resultConfig.length - 1];
        resultTitle.textContent = `${result.title} (${totalScore}ì )`;
        const normalized = Math.max(
          0,
          Math.min(100, Math.round(((totalScore - 20) / 80) * 100))
        );
        resultPercent.textContent = `ì˜¤ëŠ˜ì˜ ì»¨ë””ì…˜: ${normalized}%`;
        resultDesc.textContent = result.desc;
        resultDetail.innerHTML = "";
        result.detail.forEach((item) => {
          const li = document.createElement("li");
          li.textContent = item;
          resultDetail.appendChild(li);
        });
        resultNote.textContent = result.note;
        routineEl.innerHTML = "";
        result.routine.forEach((item) => {
          const tag = document.createElement("span");
          tag.className =
            "px-3 py-2 rounded-full bg-white/90 text-slate-900 text-sm font-semibold inline-flex items-center gap-2 shadow-sm";
          const checkbox = document.createElement("span");
          checkbox.className =
            "inline-flex h-4 w-4 rounded border border-slate-300 bg-white";
          const text = document.createElement("span");
          text.textContent = item;
          tag.appendChild(checkbox);
          tag.appendChild(text);
          routineEl.appendChild(tag);
        });
        applyResultTheme(result.title);
        sendEvent("quiz_complete", {
          score: totalScore,
          resultType: result.title,
        });
      }

      restartBtn.addEventListener("click", () => {
        totalScore = 0;
        currentIndex = 0;
        resultBlock.classList.add("hidden");
        questionBlock.classList.remove("hidden");
        questionBlock.classList.remove("question-hidden");
        questionBlock.classList.add("question-visible");
        progressBar.style.width = "10%";
        sendEvent("quiz_start");
        renderQuestion();
      });

      function applyResultTheme(title) {
        const themes = {
          "ğŸª«": "from-orange-500/90 to-red-600/90 border-orange-200/40",
          "ğŸŒ«": "from-slate-500/90 to-slate-700/90 border-slate-200/40",
          "ğŸ”¥": "from-amber-500/90 to-rose-600/90 border-amber-200/40",
          "ğŸ§Š": "from-cyan-500/90 to-blue-700/90 border-cyan-200/40",
        };
        const key = title.slice(0, 2);
        const theme = themes[key] || themes["ğŸŒ«"];
        resultBanner.className = `rounded-xl p-4 bg-gradient-to-r ${theme} shadow-lg`;
      }

      sendEvent("quiz_start");
      renderQuestion();
    </script>
  </body>
</html>
